/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}


dependencies {
    // These dependencies have Gradle Module Metadata and sources published on Maven Central

    // https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.13.0/
    api 'com.fasterxml.jackson.core:jackson-core:2.13.0'
    // https://repo1.maven.org/maven2/com/squareup/okhttp3/okhttp/4.9.3/
    api 'com.squareup.okhttp3:okhttp:4.9.3'
}

tasks.register('resolveDocumentation') {
    dependsOn configurations.runtimeClasspath

    doLast {
        def view = configurations.runtimeClasspath.incoming.artifactView {
            lenient = true

            attributes {
                attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category, Category.DOCUMENTATION))
            }
        }

        logger.lifecycle 'Resolved the following sources files: {}', view.files*.name
    }
}
